##################################################################
#Rules of thumb for comparing multinomial logit and multinomial probit coefficients
ind <-read_dta("C:/Users/Fabio/Dropbox/JMP/empirical analysis/NSFG/88/NSFG88s.dta")
#ind <- ind[!ind$single==1,]
ind$stat<-ind$state
ind$intt<-ind$int1+ind$int3
ind$age2<-ind$age_rel^2
ind$age3<-ind$age_rel^3
#ind<-ind[!is.na(ind$age_rel),]
#ind<-ind[!is.na(ind$birth),]
#Tobit model with individual thresholds: total sample
#for standard errors
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- lm(mar ~ unid+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind,#weight=wgt_n,
na.action=na.exclude)
lm2 <- lm(mar ~  unid+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$keep==1,],#weight=wgt_n,
na.action=na.exclude)
lm3 <- lm(mar ~  unid+factor(date_rel)+factor(birth)+coll+female+factor(stat),
index=c('stat'),
data=ind[ind$nsfh==1,],#weight=wgt_n,
na.action=na.exclude)
lm4 <- lm(mar ~  unid+factor(date_rel)+factor(birth)+coll+female+factor(stat),
index=c('stat'),
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude)
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC0", cluster = "group", adjust = T))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("Unilateral Divorce"),
keep.stat=c("n","rsq"),no.space=TRUE,
keep = c('unid'),
font.size='footnotesize',
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
#column.sep.width = "-15pt",
float = FALSE,
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmar.tex',sep=""))
#Same but robustess with linear trends
lm1 <- lm(mar ~ unid+factor(date_rel)+factor(birth)+
coll+female+stat*date_rel,#weight=wgt_n,
data=ind)
lm2 <- lm(mar ~ unid+factor(date_rel)+factor(birth)+
coll+female+stat*date_rel,#weight=wgt_n,
data=ind[ind$keep==1,])
lm3 <- lm(mar ~ unid+factor(date_rel)+factor(birth)+
coll+female+stat*date_rel,#weight=wgt_n,
data=ind[ind$nsfh==1,])
lm4 <- lm(mar ~ unid+factor(date_rel)+factor(birth)+
coll+female+stat*date_rel,#weight=wgt_n,
data=ind[ind$nsfh==0,])
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC0", cluster = "group", adjust = T))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC0", cluster = "group", adjust = T))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("Unilateral Divorce"),
keep.stat=c("n","rsq"),no.space=TRUE,
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
keep = c('unid'),
font.size='footnotesize',
#column.sep.width = "-15pt",
float = FALSE,
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Linear trend by State", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarlin.tex',sep=""))
##################################################################
##################################################################
####  MARRIAGE versus COHABITATION-compare regimes
##################################################################
##################################################################
ind$intt<-0
ind$intt[ind$tit==0 & ind$unid==1]<-1
#Tobit model with individual thresholds: total sample
#for standard errors
#Summary Statistics
ind1=ind[,c('unid','age','mar','coll','female','birth','nsfh')]
# Rename a column in R
colnames(ind1)[colnames(ind1)=="unid"] <- "Unilateral Divorce"
colnames(ind1)[colnames(ind1)=="age_rel"] <- "Age Relationship Starts"
colnames(ind1)[colnames(ind1)=="mar"] <- "Share Married"
colnames(ind1)[colnames(ind1)=="coll"] <- "College"
colnames(ind1)[colnames(ind1)=="female"] <- "Female"
colnames(ind1)[colnames(ind1)=="birth"] <- "Year of birth"
colnames(ind1)[colnames(ind1)=="nsfh"] <- "NSFH"
stat<-stargazer(as.data.frame(ind1),title="Descriptive Statistics: Sample of First Relationships",summary.stat=c("N","Mean","Median","sd"),
out=paste(directory,'\\sum_sing.tex',sep=""))
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- lm(mar ~ intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind,#weight=wgt_n,
na.action=na.exclude)
lm2 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$keep==1,],#weight=wgt_n,
na.action=na.exclude)
lm3 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$nsfh==1,],#weight=wgt_n,
na.action=na.exclude)
lm4 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude)
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
keep.stat=c("n","rsq"),no.space=TRUE,
keep = c('intt','int2','tit'),
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
font.size='footnotesize',
#column.sep.width = "-15pt",
float = FALSE,
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarc.tex',sep=""))
#Same but robustess with linear trends
lm1 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind,#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm2 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$keep==1,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm3 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$nsfh==1,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm4 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
float = FALSE,
keep.stat=c("n"),no.space=TRUE,
keep = c('intt','int2','tit'),
font.size='footnotesize',
#column.sep.width = "-15pt",
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Linear trend by State", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarlinc.tex',sep=""))
##################################################################
##################################################################
####  MARRIAGE versus COHABITATION - Logistic Regression
##################################################################
##################################################################
#Tobit model with individual thresholds: total sample
#for standard errors
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',
data=ind,#weight=wgt_n,
na.action=na.exclude)
lm2 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',#weight=wgt_n,
data=ind[ind$keep==1,],
na.action=na.exclude)
lm3 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',#weight=wgt_n,
data=ind[ind$nsfh==1,],
na.action=na.exclude)
lm4 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',#weight=wgt_n,
data=ind[ind$nsfh==0,],
na.action=na.exclude)
#MArginal Effects
lm1ME<-summary(margins(lm1, variables = "unid"))
lm2ME<-summary(margins(lm2, variables = "unid"))
lm3ME<-summary(margins(lm3, variables = "unid"))
lm4ME<-summary(margins(lm4, variables = "unid"))
m1<-toString(round(lm1ME$AME[[1]],digits=3))
m2<-toString(round(lm2ME$AME[[1]],digits=3))
m3<-toString(round(lm1ME$AME[[1]],digits=3))
m4<-toString(round(lm2ME$AME[[1]],digits=3))
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC0", cluster = "stat", adjust = T))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("Unilateral Divorce"),
keep.stat=c("n","rsq"),no.space=TRUE,
keep = c('unid'),
font.size='footnotesize',
column.labels = c("Full Sample", "Resident","NSFH","NSFG"),
#column.sep.width = "-15pt",
#float = FALSE,
notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes"),
c("\\textbf{Average Marginal Effects}", m1, m2,m3,m4)),
out=paste(directory,'\\wmar_logit.tex',sep=""))
###########################################################################
###########################################################################
####  MARRIAGE versus COHABITATION - Logistic Regression with Linear Trends
##########################################################################
###########################################################################
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- glm(mar ~ unid+factor(date_rel)+date_rel*stat+age_rel+age2+age3+
coll+female+factor(stat)+date_rel*stat,
family='binomial',weights=wgt_n,
data=ind,
na.action=na.exclude)
lm2 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+
coll+female+factor(stat)+date_rel*stat,
family='binomial',weights=wgt_n,
data=ind[ind$keep==1,],
na.action=na.exclude)
lm3 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+
coll+female+factor(stat)+date_rel*stat,
family='binomial',weights=wgt_n,
data=ind[ind$nsfh==1,],
na.action=na.exclude)
lm4 <- glm(mar ~ unid+factor(date_rel)+age_rel+age2+age3+
coll+female+factor(stat)+date_rel*stat,
family='binomial',weights=wgt_n,
data=ind[ind$nsfh==0,],
na.action=na.exclude)
#MArginal Effects
lm1ME<-summary(margins(lm1, variables = "unid"))
lm2ME<-summary(margins(lm2, variables = "unid"))
lm3ME<-summary(margins(lm3, variables = "unid"))
lm4ME<-summary(margins(lm4, variables = "unid"))
m1<-toString(round(lm1ME$AME[[1]],digits=3))
m2<-toString(round(lm2ME$AME[[1]],digits=3))
m3<-toString(round(lm1ME$AME[[1]],digits=3))
m4<-toString(round(lm2ME$AME[[1]],digits=3))
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=TRUE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC0", cluster = "stat", adjust = T))[, 2]),
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("Unilateral Divorce"),
keep.stat=c("n"),no.space=TRUE,
keep = c('unid'),
font.size='footnotesize',
column.labels = c("Full Sample", "Resident","NSFH","NSFG"),
column.sep.width = "-15pt",
float = FALSE,
notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Linear trend by State", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes"),
c("\\textbf{Average Marginal Effects}", m1, m2,m3,m4)),
out='C:\\Users\\Fabio\\Dropbox\\JMP\\presentation\\phd_apero_08_2019\\wmar_logit_trend.tex')
##############################################################################
##############################################################################
####  MARRIAGE versus COHABITATION - Logistic Regression-HEt by divorce regime
#############################################################################
#############################################################################
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- glm(mar ~ intt+int2+tit+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',
data=ind,
na.action=na.exclude)
lm2 <- glm(mar ~ intt+int2+tit+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',
data=ind[ind$keep==1,],
na.action=na.exclude)
lm3 <- glm(mar ~ intt+int2+tit+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',
data=ind[ind$nsfh==1,],
na.action=na.exclude)
lm4 <- glm(mar ~ intt+int2+tit+factor(date_rel)+age_rel+age2+age3+coll+female+factor(stat),
family='binomial',
data=ind[ind$nsfh==0,],
na.action=na.exclude)
#MArginal Effects
lm1ME<-summary(margins(lm1, variables = c("intt","int2")))
lm2ME<-summary(margins(lm2, variables = c("intt","int2")))
lm3ME<-summary(margins(lm3, variables = c("intt","int2")))
lm4ME<-summary(margins(lm4, variables = c("intt","int2")))
m1<-toString(round(lm1ME$AME[[1]],digits=3))
m2<-toString(round(lm2ME$AME[[1]],digits=3))
m3<-toString(round(lm1ME$AME[[1]],digits=3))
m4<-toString(round(lm2ME$AME[[1]],digits=3))
m1b<-toString(round(lm1ME$AME[[2]],digits=3))
m2b<-toString(round(lm2ME$AME[[2]],digits=3))
m3b<-toString(round(lm1ME$AME[[2]],digits=3))
m4b<-toString(round(lm2ME$AME[[2]],digits=3))
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=TRUE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC0", cluster = "stat", adjust = T))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC0", cluster = "stat", adjust = T))[, 2]),
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
keep.stat=c("n"),no.space=TRUE,
keep = c('intt','int2','tit'),
font.size='footnotesize',
column.labels = c("Full Sample", "Resident","NSFH","NSFG"),
column.sep.width = "-15pt",
float = FALSE,
notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes"),
c("\\textbf{AME UnDiv*NoTit}", m1b, m2b,m3b,m4b),
c("\\textbf{AME UnDiv*Tit}", m1, m2,m3,m4)),
out='C:\\Users\\Fabio\\Dropbox\\JMP\\presentation\\phd_apero_08_2019\\wmar_logit_het.tex')
stat<-stargazer(as.data.frame(ind1),title="Descriptive Statistics: Sample of First Relationships",
summary.stat=c("N","Mean","Median","sd"),
float=FALSE,
out=paste(directory,'\\sum_sing.tex',sep=""))
#Summary Statistics
ind1=ind[,c('unid','age_rel','mar','coll','female','birth','nsfh')]
stat<-stargazer(as.data.frame(ind1),title="Descriptive Statistics: Sample of First Relationships",
summary.stat=c("N","Mean","Median","sd"),
float=FALSE,
out=paste(directory,'\\sum_sing.tex',sep=""))
#Summary Statistics
ind1=ind[,c('unid','age_rel','mar','coll','female','birth','nsfh')]
# Rename a column in R
colnames(ind1)[colnames(ind1)=="unid"] <- "Unilateral Divorce"
colnames(ind1)[colnames(ind1)=="age_rel"] <- "Age Relationship Starts"
colnames(ind1)[colnames(ind1)=="mar"] <- "Married"
colnames(ind1)[colnames(ind1)=="coll"] <- "College"
colnames(ind1)[colnames(ind1)=="female"] <- "Female"
colnames(ind1)[colnames(ind1)=="birth"] <- "Year of birth"
colnames(ind1)[colnames(ind1)=="nsfh"] <- "NSFH"
stat<-stargazer(as.data.frame(ind1),title="Descriptive Statistics: Sample of First Relationships",
summary.stat=c("N","Mean","Median","sd"),
float=FALSE,
out=paste(directory,'\\sum_sing.tex',sep=""))
################################################################
##################################################################
ind$intt<-0
ind$intt[ind$tit==0 & ind$unid==1]<-1
#Tobit model with individual thresholds: total sample
#for standard errors
#Summary Statistics
ind1=ind[,c('unid','age_rel','mar','coll','female','birth','nsfh')]
# Rename a column in R
colnames(ind1)[colnames(ind1)=="unid"] <- "Unilateral Divorce"
colnames(ind1)[colnames(ind1)=="age_rel"] <- "Age Relationship Starts"
colnames(ind1)[colnames(ind1)=="mar"] <- "Married"
colnames(ind1)[colnames(ind1)=="coll"] <- "College"
colnames(ind1)[colnames(ind1)=="female"] <- "Female"
colnames(ind1)[colnames(ind1)=="birth"] <- "Year of birth"
colnames(ind1)[colnames(ind1)=="nsfh"] <- "NSFH"
stat<-stargazer(as.data.frame(ind1),title="Descriptive Statistics: Sample of First Relationships",
summary.stat=c("N","Mean","Median","sd"),
float=FALSE,
out=paste(directory,'\\sum_sing.tex',sep=""))
G <- length(unique(ind$stat))
c <- G/(G - 1)
lm1 <- lm(mar ~ intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind,#weight=wgt_n,
na.action=na.exclude)
lm2 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$keep==1,],#weight=wgt_n,
na.action=na.exclude)
lm3 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$nsfh==1,],#weight=wgt_n,
na.action=na.exclude)
lm4 <- lm(mar ~  intt+int2+tit+factor(date_rel)+factor(birth)+coll+female+factor(stat),
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude)
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
keep.stat=c("n","rsq"),no.space=TRUE,
keep = c('intt','int2','tit'),
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
font.size='footnotesize',
#column.sep.width = "-15pt",
float = FALSE,
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarc.tex',sep=""))
#Same but robustess with linear trends
lm1 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind,#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm2 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$keep==1,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm3 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$nsfh==1,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
lm4 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
#put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
float = FALSE,
keep.stat=c("n"),no.space=TRUE,
keep = c('intt','int2','tit'),
font.size='footnotesize',
#column.sep.width = "-15pt",
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Linear trend by State", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarlinc.tex',sep=""))
lm4 <- plm(mar ~ intt+int2+tit+factor(date_rel)+date_rel*stat+age_rel+age2+age3+coll+female,
index=c('stat'), model = 'within',
data=ind[ind$nsfh==0,],#weight=wgt_n,
na.action=na.exclude,
effect='individual')
put the stuff in latex
Df<-stargazer(lm1,lm2,lm3,lm4, header=TRUE, align=FALSE,
se = list(coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2],
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2],
coeftest(lm3,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2],
coeftest(lm4,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]),
omit.table.layout = "n",
dep.var.labels=c("Married (0/1)"),
covariate.labels=c("UnDiv*NoTit","UnDiv*Tit","Tit"),
column.labels = c("Full Sample", "Resident", "NSFH", "NSFG"),
keep.stat=c("n","rsq"),no.space=TRUE,
keep = c('intt','int2','tit'),
font.size='footnotesize',
#column.sep.width = "-15pt",
float = FALSE,
#notes = "Standard Errors clustered at the State level.",
add.lines = list(c("State Fixed effects", "Yes", "Yes", "Yes", "Yes"),
c("Age Polynomials", "Yes", "Yes", "Yes", "Yes"),
c("Year started Fixed Effect", "Yes", "Yes", "Yes", "Yes"),
c("Linear trend by State", "Yes", "Yes", "Yes", "Yes"),
c("Demographic Controls", "Yes", "Yes", "Yes", "Yes")),
out=paste(directory,'\\wmarlinc.tex',sep=""))
coeftest(lm1,c*vcovHC(lm1, type = "HC1", cluster = "group"))[, 2]
coeftest(lm1,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2]
coeftest(lm1,c*vcovHC(lm3, type = "HC1", cluster = "group"))[, 2]
coeftest(lm1,c*vcovHC(lm4, type = "HC1", cluster = "group"))[, 2]
View(lm2)
coeftest(lm1,c*vcovHC(lm2, type = "HC1", cluster = "group"))[, 2]
coeftest(lm1,c*vcovHC(lm2, type = "HC1", cluster = "group"))
coeftest(lm2,c*vcovHC(lm2, type = "HC1", cluster = "group"))
